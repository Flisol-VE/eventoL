{% load staticfiles %}
{% load filters %}
{% load i18n %}
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta name="description"
          content="P치gina principal para FLISol Argentina. Festival Latinoamericano de Instalaci칩n de Software Libre">

    <title>FLISoL - Festival Latinoamericano de Instalaci칩n de Software Libre</title>
    <link href="{% static 'manager/img/flisol-banner.png' %}" rel="image_src"/>
    <link rel="stylesheet" type="text/css" media="all"
          href="{% static "manager/css/flisol-bootstrap.css" %}"/>
    <link rel="stylesheet" type="text/css" media="all" href="{% static "manager/css/flisol.css" %}"/>
    <link href="{% static "manager/bower_components/roboto-fontface/roboto-fontface.css" %}" rel="stylesheet">
    <link href="{% static "manager/bower_components/bootstrap-material-design/dist/css/ripples.min.css" %}"
          rel="stylesheet">
    <link rel="stylesheet" href="{% static "manager/bower_components/leaflet/dist/leaflet.css" %}"/>
    <!--[if lte IE 8]><link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.ie.css" /><![endif]-->
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>
<div style="
    width: 100%;
    text-align: center;
    display: block;
    background-color: rgb(0,149,135);
">
    <a href="https://github.com/reyiyo/eventoL"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
    <img src="{% static 'manager/img/flisol-banner.png' %}">
</div>


<div class="container">
    <h3>Encontr치 tu sede!</h3>

    <div class="row" style="padding-top: 10px">
        <div class="col-md-3">
            <div class="well" style="padding: 0px 15px 0px 15px">
                <div class="row">
                    <div class="col-md-4" style="height: 80px; padding: 0">
                        <img src="{% static "manager/img/add.png" %}" width="100%" height="100%">
                    </div>
                    <div class="col-md-8" style="padding-top: 10px">
                        <a href='registration/sede/'>
                            <h4 class="list-group-item-heading">{% trans "Add sede" %}</h4>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        {% for sede in sedes %}
            <div class="col-md-3">
                <div class="well" style="padding: 0px 15px 0px 15px">
                    <div class="row">
                        <div id='{{ sede.name }}' class="col-md-4" tabindex="0" style="height: 80px;"></div>
                        <div class="col-md-8" style="padding-top: 10px">
                            <a href='sede/{{ sede.url }}/'>
                                <h4 class="list-group-item-heading">{{ sede.name }}</h4>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>

<script src="{% static "manager/bower_components/jquery/dist/jquery.min.js" %}"></script>
<script src="{% static "manager/bower_components/leaflet/dist/leaflet.js" %}"></script>
<script src="{% static "manager/bower_components/bootstrap/dist/js/bootstrap.min.js" %}"></script>
<script src="{% static "manager/bower_components/bootstrap-material-design/dist/js/ripples.min.js" %}"></script>
<script src="{% static "manager/bower_components/bootstrap-material-design/dist/js/material.min.js" %}"></script>
<script>
    $(document).ready(function() {
        // This command is used to initialize some elements and make them work properly
        $.material.init();

        function map(sede_name, sede_lat, sede_lon) {
            var map = L.map(sede_name, {
                zoomControl: false,
                dragging: false,
                keyboard: false,
                doubleClickZoom: false,
                touchZoom: false
            }).setView([sede_lat, sede_lon], 4);

            L.tileLayer('http://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png', {
                attribution: ''
            }).addTo(map);
            map.attributionControl.setPrefix(''); // Don't show the 'Powered by Leaflet' text.

            L.marker([sede_lat, sede_lon]).addTo(map);
        }

        {% for sede in sedes %}
            map('{{ sede.name }}', {{ sede.city.location.y|safe }}, {{ sede.city.location.x|safe }});
        {% endfor %}
    });
</script>
</body>
</html>